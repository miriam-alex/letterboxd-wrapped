(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){},273:function(e,t,a){e.exports=a(528)},280:function(e,t,a){},30:function(e,t,a){},36:function(e,t,a){},526:function(e,t,a){},527:function(e,t,a){},528:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(250),i=a.n(o),c=(a(280),a(12));a(22);var l=function(e){var t=e.onClick,a=e.onClickInfo;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"rem-padding"},r.a.createElement("p",{className:"transform"},"Are you a Letterboxd user ",r.a.createElement("br",null)," with an undying need ",r.a.createElement("br",null)," to quantify your love for film? ",r.a.createElement("br",null))),r.a.createElement("button",{type:"button",className:"btn btn-outline-light",href:"App.css",onClick:t}," Absolutely. "),r.a.createElement("button",{className:"info-button",onClick:a},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#FFFFFF",class:"bi bi-info-circle",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),r.a.createElement("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}))),r.a.createElement("p",{className:"App-bottom"},"This product uses the TMDB API but is not endorsed or certified by TMDB.")))},s=a(48),u=(a(36),a(251)),m=a.n(u),h="df1e67f460086cadab34f9c9bee0f3d6";a(30);var f=function(){var e=["Romcoms","Anime","Dramas","Horror","Musicals","Plays"],t=["#F4E0F4","#D7EBAD","#D9BFD9","#FBD6EB","#F6F3DC"],a=Object(n.useState)(e[4]),o=Object(c.a)(a,2),i=o[0],l=o[1],s=Object(n.useState)(t[4]),u=Object(c.a)(s,2),m=u[0],h=u[1];return Object(n.useEffect)(function(){var a=0,n=setInterval(function(){l(e[a]),h(t[a]),4===a?a=0:a+=1},1600);return function(){return clearInterval(n)}},[]),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"fade-in-animation"},r.a.createElement("p",null," Loading ",r.a.createElement("span",{key:Math.random(),className:"genre-loading"}," ",r.a.createElement("span",{style:{color:"".concat(m)}},"".concat(i)),"... ")," "))))};function p(){p=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,a){return e[t]=a}}function s(e,t,a,r){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new k(r||[]);return n(i,"_invoke",{value:N(e,a,c)}),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var m={};function h(){}function f(){}function d(){}var v={};l(v,o,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(L([])));b&&b!==t&&a.call(b,o)&&(v=b);var y=d.prototype=h.prototype=Object.create(v);function E(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var r;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(r,i){!function n(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(m).then(function(e){s.value=e,i(s)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,r,i)})}return r=r?r.then(i,i):i()}})}function N(e,t,a){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return A()}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var c=O(i,a);if(c){if(c===m)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var l=u(e,t,a);if("normal"===l.type){if(n=a.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(n="completed",a.method="throw",a.arg=l.arg)}}}function O(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),m;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=d,n(y,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:f,configurable:!0}),f.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},E(w.prototype),l(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,a,n,r,o){void 0===o&&(o=Promise);var i=new w(s(t,a,n,r),o);return e.isGeneratorFunction(a)?i:i.next().then(function(e){return e.done?e.value:i.next()})},E(y),l(y,c,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return i.type="throw",i.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),x(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;x(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:L(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}var d=function(e){var t=e.setPageIndex,a=e.setFilmDataObj,o=e.setErrorMessage,i=e.setMinutesData,l=e.setGenreData,u=e.setMapData,d=Object(n.useState)(null),v=Object(c.a)(d,2),g=v[0],b=v[1],y=Object(n.useState)(!1),E=Object(c.a)(y,2),w=E[0],N=E[1],O=Object(n.useState)(!1),j=Object(c.a)(O,2),x=j[0],k=j[1],L=Object(n.useState)(!1),A=Object(c.a)(L,2),S=A[0],D=A[1],_=Object(n.useState)(null),C=Object(c.a)(_,2),P=C[0],F=C[1];Object(n.useEffect)(function(){null!=g&&!1===w&&!1===S?(T(),D(!0),k(!0)):!0===w&&!0===x?(a(g),console.log(g),k(!1),t(2)):null!=P&&t("error")});var T=function(){var e=Object(s.a)(p().mark(function e(){var t,a,n,r,o,c,s,m,h;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.parse(JSON.stringify(g)),a=0;case 2:if(!(a<g.length)){e.next=18;break}return n=g[a],e.next=6,M(n.Name,n.Year);case 6:return r=e.sent,e.next=9,G(r);case 9:return o=e.sent,e.next=12,R(r);case 12:return c=e.sent,e.next=15,I(t,o,c,a);case 15:a++,e.next=2;break;case 18:for(s=t.filter(function(e){return"invalid media"!==e}),b(s),m=0,h=0;h<s.length;h++)m+=s[h].Runtime;i(m),l(Y(s)),u(U(s)),N(!0);case 26:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),I=function(e,t,a,n){return new Promise(function(r,o){if("invalid media"===t)e[n]="invalid media",r();else try{e[n].Runtime=t.runtime,e[n].PosterPath=t.poster_path,e[n].Genres=t.genres,e[n].ProductionCountries=t.production_countries,e[n].Director=a,r()}catch(i){o(),F("Something has gone haywire. Sorry for the inconvience.")}})},M=function(){var e=Object(s.a)(p().mark(function e(t,a){return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(h,"&query=").concat(t,"&page=1&include_adult=true&year=").concat(a)).then(function(e){return e.json()}).then(function(t){0===t.results.length?e("invalid media"):e(t.results[0].id)},function(e){k(!1),F("There is an issue with retrieving data from the API. Please try again."),n()})}));case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),R=function(){var e=Object(s.a)(p().mark(function e(t){return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,a){"invalid media"===t?e("invalid media"):fetch("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(h)).then(function(e){return e.json()}).then(function(t){e(t.crew.filter(function(e){return"Director"===e.job})[0].name)},function(e){k(!1),F("There is an issue with retrieving data from the API. Please try again."),a()})}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(s.a)(p().mark(function e(t){return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,a){"invalid media"===t?e("invalid media"):fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(h,"&language=en-US")).then(function(e){return e.json()}).then(function(t){e(t)},function(e){k(!1),F("There is an issue with retrieving data from the API. Please try again."),a()})}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Y=function(e){for(var t={},a=0;a<e.length;a++)for(var n=0;n<e[a].Genres.length;n++){var r=e[a].Genres[n].name;t.hasOwnProperty(r)?t[r]=t[r]+1:t[r]=1}return Object.entries(t).sort(function(e,t){return t[1]-e[1]})},U=function(e){for(var t=[],a=0;a<e.length;a++)for(var n=e[a].ProductionCountries,r=0;r<n.length;r++){var o=n[r].iso_3166_1;t.hasOwnProperty(o)?t[o]+=1:t[o]=1}return t};if(!P)return!0===x?r.a.createElement(f,null):r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"fade-in-animation"},r.a.createElement("p",null,"Directions For Use"),r.a.createElement("div",{className:"rem-padding"},r.a.createElement("div",{className:"App-body"},r.a.createElement("p",null,"1. Log in to your Letterboxd account ",r.a.createElement("br",null),"2. Navigate to ",r.a.createElement("a",{href:"https://letterboxd.com/settings/"},"Settings"),".",r.a.createElement("br",null),"3. Click \u201cImport & Export\u201d ",r.a.createElement("br",null),'4. Click "Export Your Data" ',r.a.createElement("br",null),'5. Unzip the folder and upload "diary.csv"'))),r.a.createElement("div",{className:"mb-3"},r.a.createElement("input",{className:"form-control",type:"file",id:"csvFile",accept:".csv",onChange:function(e){m.a.parse(e.target.files[0],{header:!0,skipEmptyLines:!0,complete:function(t){if("diary.csv"!==e.target.files[0].name)F("You might have attached the wrong file. Please try again.");else{var a=t.data,n=null;try{n=(n=a.filter(function(e){return e["Watched Date"].slice(0,4)===(new Date).getFullYear().toString()})).filter(function(e,t,a){return t===a.findIndex(function(t){return t.Date===e.Date&&t.Name===e.Name&&t.Rating===e.Rating&&t.Rewatch===e.Rewatch&&t.Tags===e.Tags&&t.Tags===e.Tags&&t["Watched Date"]===e["Watched Date"]&&t.Year===e.Year})})}catch(r){F("You might have attached the wrong file. Please try again.")}b(n)}}})}})),r.a.createElement("br",null))));t("error"),o(P)};var v=function(e){var t=e.onClick,a=e.filmDataObj;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"films-watched-header"},r.a.createElement("div",{className:"fade-in-animation"},r.a.createElement("p",null," ","In ".concat((new Date).getFullYear(),", you watched")," "),r.a.createElement("h1",null," ","".concat(a.length," films")," "),r.a.createElement("button",{type:"button",class:"btn btn-outline-light",href:"../css/FilmsWatched.css",onClick:t}," Next "))))},g=a(252),b=a.n(g);var y=function(e){var t=e.onClick,a=e.minutesData,o=Object(n.useState)("loading"),i=Object(c.a)(o,2),l=i[0],s=i[1],u=Object(n.useState)(null),m=Object(c.a)(u,2),h=m[0],p=m[1];return Object(n.useEffect)(function(){if(null===h){var e="(";e+=0===a?"Impressive! Do you live in a jungle?":a<200?"This is barely two romantic comedies.":a<1e3?"Indulge yourself a little more.":a<2e3?"Average.":a<3e3?"You probably have the Oscar nominations list bookmarked.":a<4e3?"A little worried, I think.":"Abed Nadir would be proud.",e+=")",s("done loading"),p(e)}}),"done loading"===l?r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"fade-in-animation"},r.a.createElement("div",{className:"rem-padding"},r.a.createElement("p",null," In fact, you've consumed "),r.a.createElement("div",{className:"counter"},r.a.createElement(b.a,{end:a})),r.a.createElement("p",null," minutes of film this year. "),r.a.createElement("p",{className:"abed-nadir"}," ",h," ")),r.a.createElement("button",{type:"button",class:"btn btn-outline-light",onClick:t}," Next ")))):r.a.createElement(f,null)},E=a(531),w=a(530),N=a(265),O=a(98),j=a(73);var x=function(e){var t=e.data,a=["#1F363D","#40798C","#70A9A1","#9EC1A3","#CFE0C3"];return r.a.createElement(E.a,{width:"100%",height:310},r.a.createElement(w.a,null,r.a.createElement(N.a,{dataKey:"value",data:t,innerRadius:50,outerRadius:155,fill:"#8884d8"},t.map(function(e,t){return r.a.createElement(O.a,{key:"cell-".concat(t),fill:a[t%a.length]})})),r.a.createElement(j.a,{content:r.a.createElement(function(e){var t=e.active,a=e.payload;e.label;return t&&a&&a.length?r.a.createElement("div",{className:"genres-tooltip"},r.a.createElement("p",null," You've watched ",a[0].value," movies ","\n"," tagged ",a[0].name,". ")):null},null)})))};var k=function(e){var t=e.onClick,a=e.genreData,o=Object(n.useState)(!0),i=Object(c.a)(o,2),l=i[0],s=i[1],u=Object(n.useState)(null),m=Object(c.a)(u,2),h=m[0],p=m[1],d=Object(n.useState)(!0),v=Object(c.a)(d,2),g=v[0],b=v[1],y=[{name:"Unpop1",value:4e3},{name:"Unpop2",value:3e3},{name:"Unpop3",value:2e3},{name:"Unpop4",value:2780},{name:"Unpop5",value:1890}];return Object(n.useEffect)(function(){if(null===h){if(a.length>=5){for(var e=0;e<y.length;e++)y[e].name=a[e][0],y[e].value=a[e][1];p(y)}else b(!1);s(!1)}}),!1===l&&g?r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"top-genres-header"},r.a.createElement("div",{className:"fade-in-animation"},r.a.createElement("h1",{className:"title"}," One might call you a genre connoisseur. "),r.a.createElement("div",{className:"pie-chart"},r.a.createElement(x,{data:h}))),r.a.createElement("button",{type:"button",class:"btn btn-outline-light",href:"../css/FilmsWatched.css",onClick:t}," Next "))):!0===l?r.a.createElement(f,null):r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"films-watched-header"},r.a.createElement("div",{className:"fade-in-animation"},r.a.createElement("p",null," Some might wonder ",r.a.createElement("br",null),"how you survive on so little media. ",r.a.createElement("br",null),"Maybe you're off the grid. "),r.a.createElement("button",{type:"button",class:"btn btn-outline-light",href:"../css/FilmsWatched.css",onClick:t}," Next "))))},L=a(269),A=a(270);var S=function(e){var t=e.onClick,a=e.mapData,o=Object(n.useState)(null),i=Object(c.a)(o,2),l=i[0],s=i[1],u=Object(n.useState)(null),m=Object(c.a)(u,2),h=m[0],f=m[1];return Object(n.useEffect)(function(){if(null===h){var e=Object.keys(a).length;0===e?(s("While this map is empty, I assume you've been outside."),f("(How was touching grass?)")):1===e?(s("Others might call you a domestic movie watcher."),f("(Hover over the darkened country to see where your films were produced.)")):e<10?(s("Others might call you a bonafide globe trotter."),f("(Hover to see where your films were produced.)")):(s("Others might call you a cinematic jet-setter."),f("(Hover to see where your (diverse) films were produced.)"))}}),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"background"},r.a.createElement("div",{className:"practice-map"},r.a.createElement("div",{className:"map-header"},r.a.createElement("div",{className:"rem-padding"},r.a.createElement("header",{className:"map-title"}," ",l," "),r.a.createElement("p",{className:"abed-nadir"}," ",h," ")),r.a.createElement("button",{type:"button",class:"btn btn-outline-light",href:"../css/FilmsWatched.css",onClick:t}," Next ")),r.a.createElement(L.VectorMap,{className:"map-hack",map:A.a,backgroundColor:"transparent",zoomOnScroll:!1,containerStyle:{width:"40%",height:"40%"},containerClassName:"map",regionStyle:{initial:{fill:"#e4e4e4","fill-opacity":.9,stroke:"none","stroke-width":0,"stroke-opacity":0},hover:{"fill-opacity":.8,cursor:"pointer"},selected:{fill:"#2938bc"},selectedHover:{}},regionsSelectable:!1,series:{regions:[{values:a,scale:["#4d9e41","#9e4169"],normalizeFunction:"polynomial"}]}}))))};var D=function(e){var t=e.errorMessage,a=e.onClick;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",{className:"App-body"}," ","".concat(t)," "),r.a.createElement("button",{type:"button",class:"btn btn-outline-light",onClick:a}," Return ")))};a(526);var _=function(e){for(var t=e.title,a=e.image_slug,o=e.rating,i=e.lb_url,c="https://image.tmdb.org/t/p/w1280"+a,l="Film poster of "+t,s="",u=0;u<parseInt(o);u++)s+="\u2605";return o%1!==0&&(s+=" 1/2"),Object(n.useEffect)(function(){}),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"fade-in-animation"},r.a.createElement("div",{className:"alignment-box"},r.a.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{className:"poster",src:c,alt:l}))),r.a.createElement("p",{className:"caption"}," Your Rating: ",s)))};var C=function(e){var t=e.onClick,a=e.filmDataObj,o=e.setTopMovies,i=Object(n.useState)("loading"),l=Object(c.a)(i,2),s=l[0],u=l[1],m=Object(n.useState)(!0),h=Object(c.a)(m,2),f=h[0],p=h[1];return Object(n.useEffect)(function(){"loading"===s&&((a=a.sort(function(e,t){return parseFloat(t.Rating)-parseFloat(e.Rating)})).length<5?(o("N/A"),p(!1)):o(a),u("done"))}),"loading"===s?r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header-2"},r.a.createElement("div",{className:"fade-in-animation"},r.a.createElement("h1",{className:"favorite-movies-title"}," All that being said, these were your favorites of ",(new Date).getFullYear(),". ")))):f?r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header-2"},r.a.createElement("div",{className:"fade-in-animation"},r.a.createElement("h1",{className:"favorite-movies-title"}," All that being said, these were your favorites of ",(new Date).getFullYear(),". "),r.a.createElement("div",{className:"top-five"},r.a.createElement(_,{title:a[0].Name,image_slug:a[0].PosterPath,rating:a[0].Rating,lb_url:a[0]["Letterboxd URI"]}),r.a.createElement(_,{title:a[1].Name,image_slug:a[1].PosterPath,rating:a[1].Rating,lb_url:a[1]["Letterboxd URI"]}),r.a.createElement(_,{title:a[2].Name,image_slug:a[2].PosterPath,rating:a[2].Rating,lb_url:a[2]["Letterboxd URI"]}),r.a.createElement(_,{title:a[3].Name,image_slug:a[3].PosterPath,rating:a[3].Rating,lb_url:a[3]["Letterboxd URI"]}),r.a.createElement(_,{title:a[4].Name,image_slug:a[4].PosterPath,rating:a[4].Rating,lb_url:a[4]["Letterboxd URI"]})),r.a.createElement("button",{type:"button",class:"btn btn-outline-light",href:"../css/FilmsWatched.css",onClick:t}," Next ")))):r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header-2"},r.a.createElement("div",{className:"fade-in-animation"},r.a.createElement("h1",{className:"favorite-movies-title"}," All that being said, I'm begging you to watch something. Anything! "),r.a.createElement("button",{type:"button",class:"btn btn-outline-light",href:"../css/FilmsWatched.css",onClick:t}," Next "))))};var P=function(e){var t=e.onClick;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"fade-in-animation"},r.a.createElement("p",null," About "),r.a.createElement("div",{className:"about-me-paragraph"},r.a.createElement("p",null,"Letterboxd Wrapped provides users yearly statistics on their usage of the website, Letterboxd, via access to the TMDB API. This was created by Miriam Alex. To view the source code, click ",r.a.createElement("a",{href:"https://github.com/miriam-alex/letterboxd-wrapped",target:"_blank",rel:"noopener noreferrer"}," here"),". To see what she is up to, visit her ",r.a.createElement("a",{href:"https://twitter.com/miriamcore_",target:"_blank",rel:"noopener noreferrer"}," Twitter account"),". Have a lovely day.")),r.a.createElement("button",{type:"button",class:"btn btn-outline-light",onClick:t}," Back "))))};a(527);var F=function(e){var t=e.topMovies,a=e.minutesData,n=e.genreData,o=e.color;console.log("info"),console.log(o);var i="https://image.tmdb.org/t/p/w1280"+t[0].PosterPath;return r.a.createElement("div",{className:"bg",style:{background:"".concat(o)}},r.a.createElement("h1",{className:"wrapped-title"}," Letterboxd Wrapped "),r.a.createElement("div",{class:"rectangle"}),r.a.createElement("img",{className:"poster2",src:i,alt:t[0].Name}),r.a.createElement("div",{className:"col2"},r.a.createElement("div",{className:"top-movies"},r.a.createElement("h2",{className:"big-header"}," Top Movies"),r.a.createElement("div",{className:"movie-items"},r.a.createElement("p",null,"1. ",t[0].Name," (",t[0].Year,")"),r.a.createElement("p",null,"2. ",t[1].Name," (",t[1].Year,")"),r.a.createElement("p",null,"3. ",t[2].Name," (",t[2].Year,")"),r.a.createElement("p",null,"4. ",t[3].Name," (",t[3].Year,")"),r.a.createElement("p",null,"5. ",t[4].Name," (",t[4].Year,")"))),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"minutes"},r.a.createElement("p",{className:"header"}," Minutes"),r.a.createElement("p",{className:"item "}," ",a.toLocaleString("en-US")," ")),r.a.createElement("div",{className:"top-genre"},r.a.createElement("p",{className:"header"}," Top Genre "),r.a.createElement("p",{className:"item "},n[0][0]," ")))),r.a.createElement("p",{className:"footer "}," miriam-alex.github.io/letterboxd-wrapped/"))},T=a(271),I=a.n(T);function M(){M=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,a){return e[t]=a}}function s(e,t,a,r){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new x(r||[]);return n(i,"_invoke",{value:w(e,a,c)}),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(A){return{type:"throw",arg:A}}}e.wrap=s;var m={};function h(){}function f(){}function p(){}var d={};l(d,o,function(){return this});var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&a.call(g,o)&&(d=g);var b=p.prototype=h.prototype=Object.create(d);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(r,i){!function n(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,m=s.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(m).then(function(e){s.value=e,i(s)},function(e){return n("throw",e,i,c)})}c(l.arg)}(n,o,r,i)})}return r=r?r.then(i,i):i()}})}function w(e,t,a){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return L()}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var c=N(i,a);if(c){if(c===m)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var l=u(e,t,a);if("normal"===l.type){if(n=a.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(n="completed",a.method="throw",a.arg=l.arg)}}}function N(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),m;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,n(b,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,n,r,o){void 0===o&&(o=Promise);var i=new E(s(t,a,n,r),o);return e.isGeneratorFunction(a)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(b),l(b,c,"Generator"),l(b,o,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return i.type="throw",i.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;j(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:k(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}var R=function(e){var t=e.onClick,a=e.topMovies,o=e.minutesData,i=e.genreData,l=Object(n.useState)(!0),u=Object(c.a)(l,2),m=u[0],h=u[1],f=r.a.useRef(),p=Object(n.useState)("#9D5A5A"),d=Object(c.a)(p,2),v=d[0],g=d[1];Object(n.useEffect)(function(){a.length<5?h(!1):console.log("can display")});var b=function(){var e=Object(s.a)(M().mark(function e(){var t,a,n,r;return M().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.current,e.next=3,I()(t,{allowTaint:!0,useCORS:!0,scale:5});case 3:a=e.sent,n=a.toDataURL("image/png"),"string"===typeof(r=document.createElement("a")).download?(r.href=n,r.download="image.png",document.body.appendChild(r),r.click(),document.body.removeChild(r)):window.open(n);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return m?r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header-3"},r.a.createElement("div",{className:"fade-in-animation"},r.a.createElement("div",{className:"final-col-1",onClick:function(){var e=Math.floor(16777215*Math.random()).toString(16);g("#"+e)}},r.a.createElement("div",{ref:f},r.a.createElement(F,{className:"infographic",topMovies:a,minutesData:o,genreData:i,color:v}))),r.a.createElement("div",{className:"final-col-2"},r.a.createElement("p",{className:"info-caption"}," And that's your year in film."))),r.a.createElement("button",{type:"button",className:"info-button-2",onClick:b}," (To commemorate, download this here.) "),r.a.createElement("button",{type:"button",class:"btn btn-outline-light",onClick:t}," Home "))):r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header-3"},r.a.createElement("div",{className:"fade-in-animation"},r.a.createElement("p",null," Thanks for playing. Log more movies to generate a sick infographic! "),r.a.createElement("button",{type:"button",class:"btn btn-outline-light",onClick:t}," Home "))))};var G=function(){var e=Object(n.useState)(0),t=Object(c.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(null),s=Object(c.a)(i,2),u=s[0],m=s[1],h=Object(n.useState)(null),f=Object(c.a)(h,2),p=f[0],g=f[1],b=Object(n.useState)(null),E=Object(c.a)(b,2),w=E[0],N=E[1],O=Object(n.useState)(null),j=Object(c.a)(O,2),x=j[0],L=j[1],A=Object(n.useState)(null),_=Object(c.a)(A,2),F=_[0],T=_[1],I=Object(n.useState)(null),M=Object(c.a)(I,2),G=M[0],Y=M[1];return-1===a?r.a.createElement(P,{onClick:function(){return o(0)}}):0===a?r.a.createElement(l,{className:"Page-Animation",onClick:function(){return o(1)},onClickInfo:function(){return o(-1)}}):1===a?r.a.createElement(d,{className:"Page-Animation",setPageIndex:o,setFilmDataObj:m,setErrorMessage:g,setMinutesData:N,setGenreData:L,setMapData:T}):2===a?r.a.createElement(v,{onClick:function(){return o(3)},filmDataObj:u}):3===a?r.a.createElement(y,{onClick:function(){return o(4)},minutesData:w}):4===a?r.a.createElement(k,{onClick:function(){return o(5)},genreData:x}):5===a?r.a.createElement(S,{onClick:function(){return o(6)},mapData:F}):6===a?r.a.createElement(C,{onClick:function(){return o(7)},filmDataObj:u,setTopMovies:Y}):7===a?r.a.createElement(R,{onClick:function(){return o(0)},topMovies:G,minutesData:w,genreData:x}):"error"===a?r.a.createElement(D,{errorMessage:p,onClick:function(){return o(0)}}):void 0},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,532)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),o(e),i(e)})};i.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(G,null))),Y()}},[[273,1,2]]]);
//# sourceMappingURL=main.cd65602b.chunk.js.map